"use strict";$(document).ready((function(){const e=function(e){return`\n    <article>\n      <header>\n      <div class="profile-icon">\n        <img src=${e.user.avatars} alt="Profile Pic">\n        <span>${e.user.name}</span>\n      </div>\n      <span class="handle">${e.user.handle}</span>\n    </header>\n    <p>${function(e){let t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}(e.content.text)}</p>\n    <footer>\n      <span>${moment(e.created_at).fromNow()}</span>\n      <div class="share-options">\n        <img src="images/flags.png" alt="Flag">\n        <img src="images/retweet.png" alt="Retweet">\n        <img src="images/like.png" alt="Like">\n      </div>\n    </footer>\n  </article>\n  `},t=function(t){$.ajax("/tweets").done((n=>{!function(t){for(const n of t){const t=e(n);$("#tweets-container").prepend(t)}}(t?n.slice(n.length-1):n)})).fail((()=>console.log("Tweets are not loading right now. Try again later!")))};t();$(".tweet-button").on("click",(function(){const e=$(this).parent().siblings("main").find(".new-tweet"),t=$(this).parent().siblings("main").find("#tweet-text");e.hasClass("hidden")?(e.slideDown().toggleClass("hidden"),t.focus()):e.slideUp().toggleClass("hidden")}));$("#load-tweets").on("submit",(function(e){if(e.preventDefault(),function(e){const t=$(e).parent().children(".error-box"),n=$(e).children("#tweet-text").val().length;switch(!0){case 0===n:return t.text("Can not post an empty tweet.").slideDown(),!0;case n>140:return t.text("Your post is too long. Please shorten it.").slideDown(),!0;default:return t.slideUp(),!1}}(this))return;const n=$(this).serialize();$.ajax("/tweets",{method:"POST",data:n}).done((()=>{t(!0)})).fail((()=>console.log("Tweets are not sending right now. Try again later!"))),$(this).children("#tweet-text").val("")}))}));